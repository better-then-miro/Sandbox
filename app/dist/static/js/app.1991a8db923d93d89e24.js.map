{"version":3,"sources":["webpack:///./src/entity/diagram.js","webpack:///./src/entity/project.js","webpack:///./src/boundary/serverProtocol.js","webpack:///./src/boundary/DiagramUI/drag.js","webpack:///./src/boundary/SnapUtils/svgBlockFactory.js","webpack:///./src/boundary/SnapUtils/blockView.js","webpack:///./src/boundary/DiagramUI/scale.js","webpack:///./src/boundary/SnapUtils/connection.js","webpack:///src/boundary/DiagramUI/DiagramUI.vue","webpack:///./src/boundary/DiagramUI/DiagramUI.vue?3806","webpack:///./src/boundary/DiagramUI/DiagramUI.vue","webpack:///src/boundary/SidePanel/SelectionEntry.vue","webpack:///./src/boundary/SidePanel/SelectionEntry.vue?f4b6","webpack:///./src/boundary/SidePanel/SelectionEntry.vue","webpack:///src/boundary/SidePanel/SidePanel.vue","webpack:///./src/boundary/SidePanel/SidePanel.vue?7f07","webpack:///./src/boundary/SidePanel/SidePanel.vue","webpack:///src/boundary/EditingPanel.vue","webpack:///./src/boundary/EditingPanel.vue?97c3","webpack:///./src/boundary/EditingPanel.vue","webpack:///./src/entity/block.js","webpack:///./src/entity/link.js","webpack:///src/controller/DiagramController.vue","webpack:///./src/controller/DiagramController.vue?c408","webpack:///./src/controller/DiagramController.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7f3","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/boundary/SnapUtils/assets/actor.svg","webpack:///./node_modules/@socket.io/component-emitter/index.mjs"],"names":["Diagram","Id","name","description","Type","mode","arguments","length","undefined","blocks","links","classCallCheck_default","this","Object","defineProperty","writable","Project","diagrams","ServerUrl","axios","require","socket","updateBlockProperties","block","properties","width","height","coords","title","additionalFields","console","log","on","response","code","emit","_ref","createNewBlock","asyncToGenerator_default","regenerator_default","a","mark","_callee","addNewBlockHandler","wrap","_context","prev","next","bId","stop","_x","_x2","apply","boundsToDrag","x1","y1","x2","y2","dragMove","dx","dy","x","y","data","isScaling","attr","transform","i","connections","snap","connection","Math","abs","dragStart","removeLinkPoints","local","dragStop","keys_default","remove","getBBox","newCoords","round","cx","cy","setCoords","redrawOnSnap","SvgBlockFactory","w","h","color","stroke","fig","rect","fill","strokeWidth","g","group","_len","figures","Array","_key","add","x_center","y_center","text","dominantBaseline","textAnchor","type","svgCreate_ClassBlock","svgPrimitive_Ellipse","svgCreate_Actor","ellipse","Snap","load","actorIcon","append","t","Matrix","scale","translate","titleOffset","font-size","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","entries_default","done","value","_ref2","slicedToArray_default","key","values","keyTitle","valueIndex","valueTitle","err","return","BlockView","factory","blockGroup","upperRect","svgPrimitive_Rectangle","blockTitle","svgCreate_Title","upperHeight","upperHalf","svgConstruct","lowerRect","newFields","svgCreate_BlockFields","lowerHalf","newBlock","svgPrimitive_EllipseCenter","drag","dblclick","turnOnscaleMode","click","select","_this","bbox","points","forEach","point","snapPoint","circle","push","scalingBlockGroup","lastModifiedGroup","lastScaleX","lastScaleY","scaleStart","scaleMove","groupBox","scaleX","scaleY","scaleStop","updateBlockPosition","setWidth","setHeight","groupBbox","anchors","class","sel","prototype","isPrototypeOf","drawLinkPoints","selLink","selectLink","setBlockToNull","setLinkToNull","plugin","Element","Paper","changeColor","line","bg","arrow","firstBlockView","secondBlockView","lId","linkType","from","to","bb1","bb2","offset","p","d","dis","res","j","min","x4","y4","max","path","toFixed","join","arrowPointsStr","returnObj","polyline","split","stroke-width","stroke-dasharray","stroke-dashoffset","lineObject","DiagramUI","props","currentDiagram","entity_diagram","emits","ready-add-new-link","sourceID","Number","targetID","block-view-selected","SnapUtils_blockView","link-selected","turn-off-link-mode","selectedBlockView","selectedLink","snapBlocks","snapLinks","linkSourceBlock","isLinkAddMode","mounted","snap_svg_cjs_default","init","methods","bcr","$refs","canvas","getBoundingClientRect","viewBox","blockView","link","sBlockView","filter","sId","tBlockView","tId","newLink","drawNewBlock","updateInfo","$emit","drawNewLink","linkId","toggleLinkMode","bool","changeFields","DiagramUI_DiagramUI","render","_h","$createElement","_self","_c","ref","staticClass","attrs","id","staticRenderFns","boundary_DiagramUI_DiagramUI","__webpack_require__","normalizeComponent","ssrContext","SelectionEntry","blockType","String","selectedEntry","entry-selected","svgBlockFactory","svgCreate_byType","computed","isSelected","SidePanel_SelectionEntry","selected","staticStyle","display","flex-direction","_v","_s","SidePanel","components","SelectionEntry_normalizeComponent","Boolean","supportedBlockTypes","toggle-link-mode","create-block","addNewBlock","newTitle","replaceAll","clear","changeSelected","SidePanel_SidePanel","_vm","directives","rawName","expression","placeholder","domProps","input","$event","target","composing","_l","block-type","selected-entry","justify-content","align-items","margin","checked","_q","change","for","_e","boundary_SidePanel_SidePanel","SidePanel_normalizeComponent","EditingPanel","close-panel","apply-changes","item-deleted","delete-block","blockToDelete","delete-link","selectedStereotype","updateStereotypySelection","updated","close","stereotype","currentOption","option","values_default","selectStereotype","addNewItem","newAdditionFieldsDict","oldKeys","attributeKey","additionalFieldsSection","querySelectorAll","fieldInput","node","textContent","blockDescription","itemType","addingAllowed","deleteItem","attributeValue","deleteBlock","deleteLink","boundary_EditingPanel","margin-top","margin-bottom","padding","padding-top","keys","refInFor","$$selectedVal","call","options","o","map","_value","multiple","role","margin-left","background","src_boundary_EditingPanel","EditingPanel_normalizeComponent","Block","Attributes","Operations","attrContent","methodContent","Link","sorceId","targetId","DiagramController","DiagramUi","showDiagramWindow","keyOfDiagramUI","newBlockProperties","newLinkProperties","diagramId","callback","openSocket","loadDiagramContent","entity_block","entity_link","fields","dId","blockId","diagramUI","deleteLinkFromSnap","linkToDelete","deleteFromServer","index","indexOf","splice","deleteBlockFromSnap","parameters","_this2","linksToRemove","fromBlockID","toBlockID","redrawDiagramUI","turnOffLinkMode","addNewLink","sidePanel","addNewLinkCallback","createNewLink","addNewLinkHandler","changeSelectedLink","updateAdditionalFields","supportedBlocks","toLowerCase","controller_DiagramController","is-link-add-mode","supported-block-types","selected-block-view","selected-link","App","diagram-controller","DiagramController_normalizeComponent","projects","newName","newDescription","newDiagramType","newDiagramMode","currentProject","showCreateNewProjectDialog","showCreateNewDiagramDialog","state","get","then","project","addProject","post","pId","createNewProject","newProject","entity_project","concat","toConsumableArray_default","showProject","openProject","params","diagram","addDiagram","createNewDiagram","newDiagram","showDiagram","openDiagram","goHome","selectortype_template_index_0_src_App","current-diagram","_m","required","src_App","App_normalizeComponent","Vue","use","Router","router","routes","config","productionTip","el","template","module","exports","Emitter","obj","mixin","__webpack_exports__","addEventListener","event","fn","_callbacks","once","off","removeListener","removeAllListeners","removeEventListener","cb","callbacks","args","len","slice","emitReserved","listeners","hasListeners"],"mappings":"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","file":"static/js/app.1991a8db923d93d89e24.js","sourcesContent":["export default class Diagram {\r\n  Id = null;\r\n  name = '';\r\n  description = '';\r\n  Type = '';\r\n  mode = '';\r\n  blocks = [];\r\n  links = [];\r\n  constructor(Id, name, description, Type, mode = 'free', blocks = [], links = []) {\r\n    this.Id = Id;\r\n    Object.defineProperty(this, 'Id', { writable: false }); // readonly ID\r\n    this.name = name;\r\n    this.description = description;\r\n    this.Type = Type;\r\n    this.mode = mode;\r\n    this.blocks = blocks;\r\n    this.links = links;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entity/diagram.js","export default class Project {\n  Id = null;\n  name = '';\n  description = '';\n  diagrams = [];\n  constructor(Id, name, description, diagrams = []) {\n    this.name = name;\n    this.description = description;\n    this.Id = Id;\n    Object.defineProperty(this, 'Id', { writable: false }); // readonly ID\n    this.diagrams = diagrams;\n  }\n  // TODO do we need _prop with getters/setters ?\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/entity/project.js","/* eslint-disable no-console */\n\nimport openSocket from 'socket.io-client';\nimport Diagram from '../entity/diagram';\nimport Project from '../entity/project';\n\nconst ServerUrl = 'http://127.0.0.1:5000/';\nconst axios = require('axios');\n\nlet socket;\nexport function initSocketIo() {\n  socket = openSocket(`${ServerUrl}main`);\n}\n\nexport function loadDiagramsFromServer(pId) {\n  const diagrams = [];\n  axios.get(`${ServerUrl}getDiagrams`, { params: { Id: pId } })\n    .then((response) => {\n      const data = response.data;\n      data.forEach((diagram) => {\n        diagrams.push(\n          // TODO mode support on server side\n          new Diagram(diagram.Id, diagram.name, diagram.description, diagram.Type, diagram.mode),\n        );\n      });\n    });\n  return diagrams;\n}\n\nexport function loadProjectsFromServer() {\n  const projects = [];\n  axios.get(`${ServerUrl}getProjectList`)\n    .then((response) => {\n      const data = response.data;\n      data.forEach((project) => {\n        projects.push(new Project(project.Id, project.name, project.description));\n      });\n    });\n  return projects;\n}\n\nexport function updateBlockProperties(block) {\n  const properties = {\n    Id: block.Id,\n    width: block.width,\n    height: block.height,\n    coords: block.coords,\n    title: block.title,\n    description: block.description,\n    additionalFields: block.additionalFields,\n  };\n  console.log('Properties to update: ', properties);\n  // Handler just to check if error occurred\n  socket.on('updateBlockPropertiesHandler', (response) => {\n    if (response.code !== 200) {\n      console.log('Error occurred when updating properties, error code: ', response.code);\n    }\n  });\n  socket.emit('updateBlockProperties', properties);\n}\n\nexport function getDiagramContent(diagramId, callback) {\n  console.log('Requesting content of diagram: ', diagramId);\n  socket.emit('getDiagramContent', { Id: diagramId });\n  socket.on('getDiagramContentHandler', callback);\n}\n\nexport function createNewProject(properties) {\n  return axios.post(`${ServerUrl}createNewProject`, properties)\n    .then(response => response.data.pId);\n}\n\nexport function createNewDiagram(properties) {\n  console.log('New diagram properties: ', properties);\n  return axios.post(`${ServerUrl}createNewDiagram`, properties)\n    .then(response => response.data.dId);\n}\n\nexport async function createNewBlock(properties, addNewBlockHandler) {\n  console.log('New block properties: ', properties);\n\n  socket.on('createNewBlockHandler', (response) => {\n    if (response.code === 200) {\n      addNewBlockHandler(response.bId);\n    } else {\n      console.log('Error occurred when creating block, error code: ', response.code);\n    }\n  });\n  socket.emit('createNewBlock', properties);\n}\n\nexport function createNewLink(properties, addNewLinkCallback) {\n  console.log('New link properties: ', properties);\n  socket.on('createNewLinkHandler', (response) => {\n    if (response.code === 200) {\n      addNewLinkCallback(response.lId);\n    } else {\n      console.log('Error occurred when creating link, error code: ', response.code);\n    }\n  });\n  socket.emit('createNewLink', properties);\n}\n\nexport function deleteLink(linkId) {\n  console.log('Deleting link: ', linkId);\n  socket.on('deleteLinkHandler', (response) => {\n    if (response.code !== 200) {\n      console.log('Error occurred when deleting link, error code: ', response.code);\n    }\n  });\n  socket.emit('deleteLink', { Id: linkId });\n}\n\nexport function deleteBlock(blockId) {\n  console.log('Deleting block: ', blockId);\n  socket.on('deleteBlockHandler', (response) => {\n    if (response.code !== 200) {\n      console.log('Error occurred when deleting block, error code: ', response.code);\n    }\n  });\n  socket.emit('deleteBlock', { Id: blockId });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/boundary/serverProtocol.js","/* eslint-disable func-names */\n\nimport { updateBlockProperties } from '../serverProtocol';\n\nlet boundsToDrag = { x1: 0, y1: 0, x2: 0, y2: 0 };\nexport const setBounds = (x1, y1, x2, y2) => {\n  boundsToDrag = { x1, y1, x2, y2 };\n};\n\nexport const dragMove = function (dx, dy, x, y) {\n  if (this.data('blockView').isScaling === false) {\n    if (x >= boundsToDrag.x1 && y >= boundsToDrag.y1 &&\n      x <= boundsToDrag.x2 && y <= boundsToDrag.y2) {\n      this.attr({\n        transform: this.data('ot') + (this.data('ot') ? 'T' : 't') + [dx, dy],\n      });\n\n      // eslint-disable-next-line no-plusplus\n      for (let i = this.data('blockView').connections.length; i--;) {\n        this.data('blockView').snap.connection(this.data('blockView').connections[i]);\n      }\n    }\n\n    if (Math.abs(dx) > 2 || Math.abs(dy) > 2) {\n      this.data('saveDrag', true);\n    }\n  }\n};\n\nexport const dragStart = function () {\n  this.data('blockView').removeLinkPoints();\n  this.data('ot', this.transform().local);\n  this.data('saveDrag', false);\n};\n\nexport const dragStop = function () {\n  if (this.data('saveDrag') === false) {\n    return;\n  }\n\n  if (this.data('blockView').block.additionalFields &&\n    Object.keys(this.data('blockView').block.additionalFields).length > 0) {\n    // видимо this - это фигура на полотне, в данном случае группа?,\n    // от которой мы берём некоторый элемент и удаляем\n    // без этого удаления объект дёргается при отсановке перетаскивания\n    this[0][1].remove();\n    this[1][1].remove();\n    // опытным путём выяснено, что надо удалять текст атрибутов\n    // [часть объекта][элемент группы с текстом],\n    // так как он может занимать больше пространства, чем фигуры\n  }\n\n  const coords = this.getBBox();\n\n  let newCoords = [];\n  if (this.data('blockView').block.Type === 'Use-case') {\n    newCoords = [Math.round(coords.cx), Math.round(coords.cy)];\n  } else {\n    newCoords = [Math.round(coords.x), Math.round(coords.y)];\n  }\n\n  this.data('blockView').block.setCoords(newCoords);\n\n  updateBlockProperties(this.data('blockView').block);\n\n  this.data('blockView').redrawOnSnap();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/boundary/DiagramUI/drag.js","/* eslint-disable guard-for-in */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable camelcase */\n/* eslint-disable no-console */\nimport Snap from 'snapsvg-cjs';\nimport actorIcon from './assets/actor.svg';\n\nconst bgColor = '#60efff';\n\nexport default class SvgBlockFactory {\n  snap = null;\n  constructor(snap) {\n    this.snap = snap;\n  }\n\n  svgPrimitive_Rectangle(x, y, w, h, color = bgColor, stroke = 'black') {\n    const fig = this.snap.rect(x, y, w, h);\n    fig.attr({ fill: color, stroke, strokeWidth: 1 });\n    return fig;\n  }\n\n  svgConstruct(...figures) {\n    const g = this.snap.group();\n    g.add(figures);\n    return g;\n  }\n\n  svgCreate_Title(x_center, y_center, title) {\n    return this.snap.text(\n      x_center,\n      y_center,\n      title,\n    ).attr({ stroke: 'black', dominantBaseline: 'middle', textAnchor: 'middle' });\n  }\n\n  svgCreate_byType(type, x, y, w, h) {\n    if (type === 'Class') {\n      return this.svgCreate_ClassBlock(x, y, w, h);\n    } else if (type === 'Use-case') {\n      return this.svgPrimitive_Ellipse(x, y, w, h);\n    } else if (type === 'Actor') {\n      return this.svgCreate_Actor(x, y, w, h);\n    }\n    return null;\n  }\n\n  svgCreate_ClassBlock(x, y, w, h) {\n    const fig = this.snap.rect(x, y, w, h);\n    fig.attr({ fill: bgColor, stroke: 'black', strokeWidth: 1 });\n    return fig;\n  }\n\n  svgPrimitive_Ellipse(x, y, w, h) {\n    const width = Math.round(w / 2);\n    const height = Math.round(h / 2);\n    const fig = this.snap.ellipse(x + width, y + height, width, height);\n    fig.attr({ fill: bgColor, stroke: 'black', strokeWidth: 1 });\n    return fig;\n  }\n\n  svgPrimitive_EllipseCenter(x, y, w, h) {\n    const fig = this.snap.ellipse(x, y, w, h);\n    fig.attr({ fill: bgColor, stroke: 'black', strokeWidth: 1 });\n    return fig;\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  svgCreate_Actor(x, y, w, h) {\n    const g = this.snap.group();\n    g.data('ot', g.transform().local);\n    Snap.load(actorIcon, (data) => {\n      g.append(data);\n    });\n\n    const t = new Snap.Matrix();\n    t.scale(w / 80, h / 80, x, y); // scale object\n    t.translate(x, y);\n    g.transform(t); // apply transformation to object\n\n    return g;\n  }\n\n  svgCreate_BlockFields(x, y, w, h, additionalFields) {\n    let titleOffset = 15;\n    const g = this.snap.group();\n    g.attr({ 'font-size': '13px' });\n    for (const [key, values] of Object.entries(additionalFields)) {\n      if (values.length === 0) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (key === 'stereotype') { // Stereotype title\n        if (values !== '') {\n          const keyTitle = this.snap.text(\n            x + Math.round(w / 2),\n            y - 40,\n            values,\n          ).attr({ stroke: 'black', dominantBaseline: 'middle', textAnchor: 'middle' });\n          g.append(keyTitle);\n        }\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      const keyTitle = this.snap.text(\n        x + Math.round(w / 2),\n        y + titleOffset,\n        key,\n      ).attr({ stroke: 'black', dominantBaseline: 'middle', textAnchor: 'middle' });\n      titleOffset += 20;\n      g.append(keyTitle);\n\n      for (const valueIndex in values) {\n        const valueTitle = this.snap.text(\n          x + Math.round(w / 2),\n          y + titleOffset,\n          values[valueIndex],\n        ).attr({ dominantBaseline: 'start', textAnchor: 'middle' });\n        titleOffset += 15;\n        g.append(valueTitle);\n      }\n      titleOffset += 10;\n    }\n\n    return g;\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/boundary/SnapUtils/svgBlockFactory.js","/* eslint-disable no-restricted-syntax */\n/* eslint-disable guard-for-in */\n/* eslint-disable camelcase */\n/* eslint-disable max-len */\nimport { dragMove, dragStart, dragStop } from '../DiagramUI/drag';\nimport { turnOnscaleMode, select } from '../DiagramUI/scale';\nimport SvgBlockFactory from './svgBlockFactory';\n\n/**\n * Стоит использовать следующее соглашение на структуру объекта blockGroup, хранящего svg объект\n * Объект хранится ввиде группы, где на первом уровне индексации blockGroup[i] лежат части объекта\n * в виде группы из двух элементов: blockGroup[i][0] - фигура(примитив)\n *                                  blockGroup[i][1] - текст, привязанный к фигуре (необязательно внутри фигуры)\n */\nexport default class BlockView {\n  block = null;\n  connections = null;\n  isScaling = false;\n  snap = null;\n  factory = null;\n  blockGroup = null;\n  constructor(block, snap, connections) {\n    this.block = block;\n    this.snap = snap;\n    this.connections = connections;\n    this.factory = new SvgBlockFactory(snap);\n  }\n\n  redrawOnSnap(x = this.block.coords[0], y = this.block.coords[1],\n    width = this.block.width, height = this.block.height) {\n    if (this.blockGroup != null) {\n      this.blockGroup.remove();\n    }\n    this.blockGroup = this.snap.group();\n    // TODO переделать на примитивы все остальные случаи кроме класса\n    if (this.block.Type === 'Class') {\n      // Constructing upper half of class block\n      // TODO решить что делать с высотой верхней части\n      const upperHeight = 30;\n      const upperRect = this.factory.svgPrimitive_Rectangle(x, y, width, upperHeight);\n      const blockTitle = this.factory.svgCreate_Title(\n        x + Math.round(width / 2),\n        y + Math.round(upperHeight / 2),\n        this.block.title);\n      const upperHalf = this.factory.svgConstruct(upperRect, blockTitle);\n      // Constructing lower half of class block\n      const lowerRect = this.factory.svgPrimitive_Rectangle(x, y + upperHeight, width, height - upperHeight);\n      const newFields = this.factory.svgCreate_BlockFields(x, y + upperHeight, width, height - upperHeight,\n        this.block.additionalFields);\n      const lowerHalf = this.factory.svgConstruct(lowerRect, newFields);\n\n      this.blockGroup = this.factory.svgConstruct(upperHalf, lowerHalf);\n    } else if (this.block.Type === 'Use-case') {\n      const newBlock = this.factory.svgPrimitive_EllipseCenter(x, y,\n        Math.round(width / 2), Math.round(height / 2));\n      const blockTitle = this.factory.svgCreate_Title(x, y, this.block.title);\n      this.blockGroup = this.factory.svgConstruct(newBlock, blockTitle);\n    } else if (this.block.Type === 'Actor') {\n      const newBlock = this.factory.svgCreate_Actor(x, y,\n        width, height);\n      const blockTitle = this.factory.svgCreate_Title(x + Math.round(width / 2), y + height + 10,\n        this.block.title);\n      this.blockGroup = this.factory.svgConstruct(newBlock, blockTitle);\n    }\n\n    // eslint-disable-next-line no-plusplus\n    for (let i = this.connections.length; i--;) {\n      this.snap.connection(this.connections[i]);\n    }\n\n    this.blockGroup.drag(dragMove, dragStart, dragStop);\n    this.blockGroup.dblclick(turnOnscaleMode);\n    this.blockGroup.click(select);\n    this.blockGroup.data('blockView', this);\n  }\n\n  drawLinkPoints() {\n    const bbox = this.blockGroup.getBBox();\n    const p = [{\n      x: bbox.x + (bbox.width / 4),\n      y: bbox.y - 1,\n    }, {\n      x: bbox.x + (bbox.width / 2),\n      y: bbox.y - 1,\n    }, {\n      x: bbox.x + ((bbox.width / 4) * 3),\n      y: bbox.y - 1,\n    }, {\n      x: bbox.x + (bbox.width / 4),\n      y: bbox.y + bbox.height + 1,\n    }, {\n      x: bbox.x + (bbox.width / 2),\n      y: bbox.y + bbox.height + 1,\n    }, {\n      x: bbox.x + ((bbox.width / 4) * 3),\n      y: bbox.y + bbox.height + 1,\n    }, {\n      x: bbox.x - 1,\n      y: bbox.y + (bbox.height / 4),\n    }, {\n      x: bbox.x - 1,\n      y: bbox.y + (bbox.height / 2),\n    }, {\n      x: bbox.x - 1,\n      y: bbox.y + ((bbox.height / 4) * 3),\n    }, {\n      x: bbox.x + bbox.width + 1,\n      y: bbox.y + (bbox.height / 4),\n    }, {\n      x: bbox.x + bbox.width + 1,\n      y: bbox.y + (bbox.height / 2),\n    }, {\n      x: bbox.x + bbox.width + 1,\n      y: bbox.y + ((bbox.height / 4) * 3),\n    }];\n\n    const points = [];\n    p.forEach((point) => {\n      const snapPoint = this.snap.circle(point.x, point.y, 3).attr({ fill: 'blue' });\n      points.push(snapPoint);\n    });\n\n    this.blockGroup.data('linkPoints', points);\n  }\n\n  removeLinkPoints() {\n    const points = this.blockGroup.data('linkPoints');\n    if (points != null) {\n      points.forEach((point) => {\n        point.remove();\n      });\n\n      this.blockGroup.data('linkPoints', null);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/boundary/SnapUtils/blockView.js","/* eslint-disable no-restricted-syntax */\n/* eslint-disable guard-for-in */\n/* eslint-disable no-console */\n/* eslint-disable func-names */\n\nimport { updateBlockProperties } from '../serverProtocol';\nimport BlockView from '../SnapUtils/blockView';\n\nlet scalingBlockGroup = null;\nlet lastModifiedGroup = null;\nlet lastScaleX = 1;\nlet lastScaleY = 1;\n\nconst scaleStart = function () {\n  scalingBlockGroup.data('origTransform', scalingBlockGroup.transform().local);\n};\n\nconst scaleMove = function (dx, dy) {\n  // TODO исправить скейл так, чтобы якори не считались за BBox\n  const groupBox = scalingBlockGroup.getBBox();\n\n  let scaleX = 1;\n  let scaleY = 1;\n  if (this.data('side') === 'topleft') {\n    scaleX = dx > 0 ?\n      groupBox.width / (groupBox.width + dx) : (groupBox.width - dx) / groupBox.width;\n    scaleY = dy > 0 ?\n      groupBox.height / (groupBox.height + dy) : (groupBox.height - dy) / groupBox.height;\n  } else if (this.data('side') === 'topright') {\n    scaleX = dx > 0 ?\n      (groupBox.width + dx) / groupBox.width : groupBox.width / (groupBox.width - dx);\n    scaleY = dy > 0 ?\n      groupBox.height / (groupBox.height + dy) : (groupBox.height - dy) / groupBox.height;\n  } else if (this.data('side') === 'bottomleft') {\n    scaleX = dx > 0 ?\n      groupBox.width / (groupBox.width + dx) : (groupBox.width - dx) / groupBox.width;\n    scaleY = dy > 0 ?\n      (groupBox.height + dy) / groupBox.height : groupBox.height / (groupBox.height - dy);\n  } else if (this.data('side') === 'bottomright') {\n    scaleX = dx > 0 ?\n      (groupBox.width + dx) / groupBox.width : groupBox.width / (groupBox.width - dx);\n    scaleY = dy > 0 ?\n      (groupBox.height + dy) / groupBox.height : groupBox.height / (groupBox.height - dy);\n  }\n\n  if (scalingBlockGroup[0].getBBox().width * scaleX > 100) {\n    lastScaleX = scaleX;\n  }\n\n  if (scalingBlockGroup[0].getBBox().height * scaleY > 50) {\n    lastScaleY = scaleY;\n  }\n\n  scalingBlockGroup.attr({\n    transform: `${scalingBlockGroup.data('origTransform') + (scalingBlockGroup.data('origTransform') ? 'S' : 's') + lastScaleX},${lastScaleY}`,\n  });\n};\n\nexport const scaleStop = function () {\n};\n\nfunction updateBlockPosition(blockGroup) {\n  scalingBlockGroup[0].remove();\n\n  const coords = scalingBlockGroup.getBBox();\n\n  if (blockGroup.data('blockView').block.Type === 'Use-case') {\n    blockGroup.data('blockView').block.setCoords([Math.round(coords.cx), Math.round(coords.cy)]);\n  } else {\n    blockGroup.data('blockView').block.setCoords([Math.round(coords.x), Math.round(coords.y)]);\n  }\n\n  blockGroup.data('blockView').block.setWidth(Math.round(coords.width));\n  blockGroup.data('blockView').block.setHeight(Math.round(coords.height));\n  // eslint-disable-next-line no-param-reassign\n  blockGroup.data('blockView').isScaling = false;\n  updateBlockProperties(blockGroup.data('blockView').block);\n\n  blockGroup.data('blockView').redrawOnSnap();\n  scalingBlockGroup.remove();\n\n  lastModifiedGroup = null;\n}\n\n// eslint-disable-next-line func-names\nexport const turnOnscaleMode = function () {\n  this.data('blockView').removeLinkPoints();\n  const snap = this.data('blockView').snap;\n\n  if (lastModifiedGroup != null && lastModifiedGroup !== this) {\n    updateBlockPosition(lastModifiedGroup);\n  }\n  lastModifiedGroup = this;\n\n  if (this.data('blockView').isScaling === false) {\n    this.data('blockView').isScaling = true;\n    // Create group from figures (without texts) -> [i][0] - figure of i-th primitive\n    // TODO when all block views will use such interface\n    /* const g = this.snap.group();\n    for (let i = 0; i < this.length; i += 1) {\n      g.append(this[i][0]);\n    } */\n    const groupBbox = this.getBBox();\n    const anchors = [];\n    anchors[0] = snap.circle(groupBbox.x, groupBbox.y, 5).attr({ class: 'handler', fill: 'blue' });\n    anchors[0].data('side', 'topleft');\n    anchors[0].drag(scaleMove, scaleStart, scaleStop);\n    anchors[1] = snap.circle(groupBbox.x + groupBbox.width, groupBbox.y, 5).attr({ class: 'handler', fill: 'blue' });\n    anchors[1].data('side', 'topright');\n    anchors[1].drag(scaleMove, scaleStart, scaleStop);\n    anchors[2] = snap.circle(groupBbox.x, groupBbox.y + groupBbox.height, 5).attr({ class: 'handler', fill: 'blue' });\n    anchors[2].data('side', 'bottomleft');\n    anchors[2].drag(scaleMove, scaleStart, scaleStop);\n    anchors[3] = snap.circle(groupBbox.x + groupBbox.width, groupBbox.y + groupBbox.height, 5).attr({ class: 'handler', fill: 'blue' });\n    anchors[3].data('side', 'bottomright');\n    anchors[3].drag(scaleMove, scaleStart, scaleStop);\n    // TODO ^\n    scalingBlockGroup = snap.group(this, anchors[0], anchors[1], anchors[2], anchors[3]);\n  } else {\n    updateBlockPosition(this);\n  }\n};\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let sel = null;\nexport const select = function () {\n  // eslint-disable-next-line no-prototype-builtins\n  if (BlockView.prototype.isPrototypeOf(this.data('blockView'))) {\n    if (sel !== null) {\n      sel.removeLinkPoints();\n    }\n    sel = this.data('blockView');\n    sel.drawLinkPoints();\n  }\n};\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let selLink = null;\nexport const selectLink = function () {\n  // eslint-disable-next-line no-prototype-builtins\n  if (this.data('lineObject') !== null) {\n    selLink = this.data('lineObject');\n  }\n};\n\nexport const setBlockToNull = function () {\n  sel = null;\n};\n\nexport const setLinkToNull = function () {\n  selLink = null;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/boundary/DiagramUI/scale.js","/* eslint-disable max-len */\r\n/* eslint-disable object-shorthand */\r\n/* eslint-disable prefer-template */\r\n/* eslint-disable no-shadow */\r\n/* eslint-disable consistent-return */\r\n/* eslint-disable no-param-reassign */\r\n/* eslint-disable func-names */\r\nimport Snap from 'snapsvg-cjs';\r\n\r\nconst linkWidth = 5;\r\nSnap.plugin((Snap, Element, Paper) => {\r\n  const changeColor = function (color) {\r\n    if (this.line.attr('stroke') !== 'none') {\r\n      this.line.attr({ stroke: color });\r\n    }\r\n    if (this.bg.attr('stroke') !== 'none') {\r\n      this.bg.attr({ stroke: color });\r\n    }\r\n    if (this.arrow !== undefined) {\r\n      this.arrow.attr({ stroke: color, fill: color });\r\n    }\r\n  };\r\n  Paper.prototype.connection = function (firstBlockView, secondBlockView, lId, linkType) {\r\n    let line = '#000';\r\n    const bg = '#000';\r\n    if (firstBlockView.line && firstBlockView.from && firstBlockView.to) {\r\n      line = firstBlockView;\r\n      firstBlockView = line.from;\r\n      secondBlockView = line.to;\r\n      linkType = line.linkType;\r\n    }\r\n    const bb1 = firstBlockView.blockGroup.getBBox();\r\n    const bb2 = secondBlockView.blockGroup.getBBox();\r\n    let offset = 20;\r\n    if (linkType === 'Association(Bidirectional)') {\r\n      offset = 0;\r\n    }\r\n    const p = [\r\n      { x: bb1.x + (bb1.width / 4), y: bb1.y - 1 },\r\n      { x: bb1.x + (bb1.width / 2), y: bb1.y - 1 },\r\n      { x: bb1.x + ((bb1.width / 4) * 3), y: bb1.y - 1 },\r\n      { x: bb1.x + (bb1.width / 4), y: bb1.y + bb1.height + 1 },\r\n      { x: bb1.x + (bb1.width / 2), y: bb1.y + bb1.height + 1 },\r\n      { x: bb1.x + ((bb1.width / 4) * 3), y: bb1.y + bb1.height + 1 },\r\n      { x: bb1.x - 1, y: bb1.y + (bb1.height / 4) },\r\n      { x: bb1.x - 1, y: bb1.y + (bb1.height / 2) },\r\n      { x: bb1.x - 1, y: bb1.y + ((bb1.height / 4) * 3) },\r\n      { x: bb1.x + bb1.width + 1, y: bb1.y + (bb1.height / 4) },\r\n      { x: bb1.x + bb1.width + 1, y: bb1.y + (bb1.height / 2) },\r\n      { x: bb1.x + bb1.width + 1, y: bb1.y + ((bb1.height / 4) * 3) },\r\n\r\n      { x: bb2.x + (bb2.width / 4), y: bb2.y - 1 - offset },\r\n      { x: bb2.x + (bb2.width / 2), y: bb2.y - 1 - offset },\r\n      { x: bb2.x + ((bb2.width / 4) * 3), y: bb2.y - 1 - offset },\r\n      { x: bb2.x + (bb2.width / 4), y: bb2.y + bb2.height + 1 + offset },\r\n      { x: bb2.x + (bb2.width / 2), y: bb2.y + bb2.height + 1 + offset },\r\n      { x: bb2.x + ((bb2.width / 4) * 3), y: bb2.y + bb2.height + 1 + offset },\r\n      { x: bb2.x - 1 - offset, y: bb2.y + (bb2.height / 4) },\r\n      { x: bb2.x - 1 - offset, y: bb2.y + (bb2.height / 2) },\r\n      { x: bb2.x - 1 - offset, y: bb2.y + ((bb2.height / 4) * 3) },\r\n      { x: bb2.x + bb2.width + 1 + offset, y: bb2.y + (bb2.height / 4) },\r\n      { x: bb2.x + bb2.width + 1 + offset, y: bb2.y + (bb2.height / 2) },\r\n      { x: bb2.x + bb2.width + 1 + offset, y: bb2.y + ((bb2.height / 4) * 3) },\r\n    ];\r\n    const d = {};\r\n    const dis = [];\r\n    let dx = 0;\r\n    let dy = 0;\r\n    let res;\r\n\r\n    for (let i = 0; i < 12; i += 1) {\r\n      for (let j = 12; j < 24; j += 1) {\r\n        dx = Math.abs(p[i].x - p[j].x);\r\n        dy = Math.abs(p[i].y - p[j].y);\r\n        // if ((i === j - 4) || (((i !== 3 && j !== 6) || p[i].x < p[j].x) && ((i !== 2 && j !== 7) ||\r\n        //   p[i].x > p[j].x) && ((i !== 0 && j !== 5) || p[i].y > p[j].y) && ((i !== 1 && j !== 4) ||\r\n        //   p[i].y < p[j].y))\r\n        // ) {\r\n        dis.push(dx + dy);\r\n        d[dis[dis.length - 1]] = [i, j];\r\n        // }\r\n      }\r\n    }\r\n\r\n    if (dis.length === 0) {\r\n      res = [0, 4];\r\n    } else {\r\n      res = d[Math.min(...dis)];\r\n    }\r\n    const x1 = p[res[0]].x;\r\n    const y1 = p[res[0]].y;\r\n    const x4 = p[res[1]].x;\r\n    const y4 = p[res[1]].y;\r\n\r\n    dx = Math.max(Math.abs(x1 - x4) / 2, 10);\r\n    dy = Math.max(Math.abs(y1 - y4) / 2, 10);\r\n    // const x2 = [x1, x1, x1 - dx, x1 + dx][res[0]].toFixed(3);\r\n    // const y2 = [y1 - dy, y1 + dy, y1, y1][res[0]].toFixed(3);\r\n    // const x3 = [0, 0, 0, 0, x4, x4, x4 - dx, x4 + dx][res[1]].toFixed(3);\r\n    // const y3 = [0, 0, 0, 0, y1 + dy, y1 - dy, y4, y4][res[1]].toFixed(3);\r\n    // const path = [`M${x1.toFixed(3)}`, `${y1.toFixed(3)}C${x2}`,\r\n    // y2, x3, y3, x4.toFixed(3), y4.toFixed(3)].join(',');\r\n    const path = [`M${x1.toFixed(3)}`, `${y1.toFixed(3)}`, x4.toFixed(3), y4.toFixed(3)].join(',');\r\n\r\n    let arrowPointsStr = null;\r\n    if (x4 === (bb2.x - 21)) {\r\n      arrowPointsStr = [x4, y4 - 5, x4, y4 + 5, x4 + 20, y4].join(',');\r\n    } else if (x4 === (bb2.x + bb2.width + 21)) {\r\n      arrowPointsStr = [x4, y4 - 5, x4, y4 + 5, x4 - 20, y4].join(',');\r\n    } if (y4 === (bb2.y - 21)) {\r\n      arrowPointsStr = [x4 - 5, y4,\r\n        x4 + 5, y4, x4, y4 + 20].join(',');\r\n    } else if (y4 === (bb2.y + bb2.height + 21)) {\r\n      arrowPointsStr = [x4 - 5, y4,\r\n        x4 + 5, y4, x4, y4 - 20].join(',');\r\n    }\r\n\r\n    if (line && line.line) {\r\n      line.bg.attr({ path });\r\n      if (linkType === 'Association') {\r\n        line.line.attr({\r\n          path,\r\n        });\r\n        line.arrow.attr({ points: arrowPointsStr });\r\n      } else if (linkType === 'Association(Bidirectional)') {\r\n        line.line.attr({\r\n          path,\r\n        });\r\n      } else if (linkType === 'Dependency') {\r\n        line.line.attr({\r\n          path,\r\n          'stroke-dasharray': 10 + ' ' + 10,\r\n          'stroke-dashoffset': 10,\r\n          'stroke-width': linkWidth,\r\n        });\r\n        line.arrow.attr({ points: arrowPointsStr });\r\n      } else {\r\n        line.line.attr({\r\n          path,\r\n        });\r\n      }\r\n    } else {\r\n      let returnObj;\r\n      if (linkType === 'Association') {\r\n        const arrow = this.polyline().attr({\r\n          stroke: '#000',\r\n          fill: '#000',\r\n          points: arrowPointsStr,\r\n        });\r\n        returnObj = {\r\n          bg: bg && bg.split && this.path(path).attr({\r\n            stroke: bg,\r\n            fill: 'none',\r\n            'stroke-width': linkWidth,\r\n          }),\r\n          line: this.path(path).attr({\r\n            stroke: line,\r\n            fill: 'none',\r\n          }),\r\n          linkType: linkType,\r\n          from: firstBlockView,\r\n          to: secondBlockView,\r\n          arrow: arrow,\r\n          lId: lId,\r\n          changeColor: changeColor,\r\n        };\r\n      } else if (linkType === 'Association(Bidirectional)') {\r\n        returnObj = {\r\n          bg: bg && bg.split && this.path(path).attr({\r\n            stroke: bg,\r\n            fill: 'none',\r\n            'stroke-width': linkWidth,\r\n          }),\r\n          line: this.path(path).attr({\r\n            stroke: line,\r\n            fill: 'none',\r\n          }),\r\n          linkType: linkType,\r\n          from: firstBlockView,\r\n          to: secondBlockView,\r\n          lId: lId,\r\n          changeColor: changeColor,\r\n        };\r\n      } else if (linkType === 'Dependency') {\r\n        const arrow = this.polyline().attr({\r\n          stroke: '#000',\r\n          fill: '#000',\r\n          points: arrowPointsStr,\r\n        });\r\n        returnObj = {\r\n          bg: bg && bg.split && this.path(path).attr({\r\n            fill: 'none',\r\n          }),\r\n          line: this.path(path).attr({\r\n            stroke: line,\r\n            fill: 'none',\r\n            'stroke-dasharray': 10 + ' ' + 10,\r\n            'stroke-dashoffset': 10,\r\n            'stroke-width': linkWidth,\r\n          }),\r\n          linkType: linkType,\r\n          from: firstBlockView,\r\n          to: secondBlockView,\r\n          arrow: arrow,\r\n          lId: lId,\r\n          changeColor: changeColor,\r\n        };\r\n      } else {\r\n        returnObj = {\r\n          bg: bg && bg.split && this.path(path).attr({\r\n            stroke: line,\r\n            fill: 'none',\r\n            'stroke-width': linkWidth,\r\n          }),\r\n          line: this.path(path).attr({\r\n            stroke: line,\r\n            fill: 'none',\r\n          }),\r\n          linkType: linkType,\r\n          from: firstBlockView,\r\n          to: secondBlockView,\r\n          lId: lId,\r\n          changeColor: changeColor,\r\n        };\r\n      }\r\n      returnObj.line.data({ lineObject: returnObj });\r\n      return returnObj;\r\n    }\r\n  };\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/boundary/SnapUtils/connection.js","<template>\n  <svg  @click=\"updateInfo\" id=\"mySvg\" class=\"editorSvg\"\n        :height=\"height\" :width=\"width\" ref=\"canvas\"></svg>\n</template>\n\n<script>\n/* eslint-disable no-console */\nimport Snap from 'snapsvg-cjs';\nimport { setBounds } from './drag';\nimport { sel, selLink, selectLink, setBlockToNull, setLinkToNull } from './scale';\nimport BlockView from '../SnapUtils/blockView';\nimport '../SnapUtils/connection';\nimport Diagram from '../../entity/diagram';\n\nexport default {\n  name: 'DiagramUi',\n  props: {\n    currentDiagram: Diagram,\n  },\n  emits: {\n    'ready-add-new-link': { sourceID: Number, targetID: Number },\n    'block-view-selected': BlockView,\n    'link-selected': Object,\n    'turn-off-link-mode': null,\n    // TODO return only block entity and make changes in View in this component\n  },\n  data() {\n    return {\n      snap: null,\n      selectedBlockView: null,\n      selectedLink: null,\n      snapBlocks: [],\n      snapLinks: [],\n      linkSourceBlock: null,\n      isLinkAddMode: false,\n      height: 800,\n      width: 800,\n    };\n  },\n\n  mounted() {\n    this.snap = Snap('#mySvg');\n    this.init();\n  },\n\n  methods: {\n    init() {\n      const bcr = this.$refs.canvas.getBoundingClientRect();\n      setBounds(bcr.x, bcr.y, bcr.x + bcr.width, bcr.y + bcr.height);\n      this.snap.attr({ viewBox: `0 0 ${this.width} ${this.height}` });\n      this.snap.rect(0, 0, this.width, this.height).attr({ fill: 'none', stroke: 'black', strokeWidth: 2 });\n      this.currentDiagram.blocks.forEach((block) => {\n        const blockView = new BlockView(block, this.snap, this.snapLinks);\n        blockView.redrawOnSnap();\n        this.snapBlocks.push(blockView);\n      });\n      this.currentDiagram.links.forEach((link) => {\n        const sBlockView = this.snapBlocks.filter(blockView => blockView.block.Id === link.sId);\n        const tBlockView = this.snapBlocks.filter(blockView => blockView.block.Id === link.tId);\n        if (sBlockView.length === 1 && tBlockView.length === 1) {\n          const newLink = this.snap.connection(sBlockView[0], tBlockView[0], link.Id, link.Type);\n          newLink.line.click(selectLink);\n          this.snapLinks.push(newLink);\n        } else {\n          console.log('Incorrect link parameters!');\n        }\n      });\n    },\n\n    // It is better to render new block than rerender all canvas\n    drawNewBlock(newBlock) {\n      const blockView = new BlockView(newBlock, this.snap, this.snapLinks);\n      blockView.redrawOnSnap();\n      this.snapBlocks.push(blockView);\n    },\n\n    updateInfo() {\n      console.log(sel, selLink);\n      if (sel !== null) {\n        if (this.selectedBlockView === sel) {\n          this.selectedBlockView.removeLinkPoints();\n          this.selectedBlockView = null;\n          setBlockToNull();\n          this.$emit('block-view-selected', this.selectedBlockView);\n        } else {\n          if (this.selectedLink !== null) {\n            this.selectedLink = null;\n            setLinkToNull();\n            this.$emit('link-selected', this.selectedLink);\n          }\n          console.log('Update block');\n          this.selectedBlockView = sel;\n          this.$emit('block-view-selected', this.selectedBlockView);\n          if (this.isLinkAddMode) {\n            if (this.linkSourceBlock != null && this.linkSourceBlock.block.Id !== sel.block.Id) {\n              this.$emit('ready-add-new-link',\n                { sourceID: this.linkSourceBlock.block.Id, targetID: sel.block.Id });\n            } else {\n              this.linkSourceBlock = sel;\n            }\n          } else {\n            this.linkSourceBlock = null;\n          }\n        }\n      }\n      if (selLink !== null) {\n        if (this.selectedLink === selLink) {\n          this.selectedLink = null;\n          setLinkToNull();\n          this.$emit('link-selected', this.selectedLink);\n        } else {\n          if (this.selectedBlockView !== null) {\n            this.selectedBlockView = null;\n            setBlockToNull();\n            this.$emit('block-view-selected', this.selectedBlockView);\n          }\n          this.selectedLink = selLink;\n          this.$emit('link-selected', this.selectedLink);\n        }\n      }\n    },\n\n    drawNewLink(linkType, linkId) {\n      console.log('Drawing new link');\n      if (sel == null || this.linkSourceBlock == null) {\n        console.log('Error drawing new link');\n        return;\n      }\n      const newLink = this.snap.connection(this.linkSourceBlock, sel, linkId, linkType);\n      newLink.line.click(selectLink);\n      this.snapLinks.push(newLink);\n      this.linkSourceBlock = null;\n      this.isLinkAddMode = false;\n      this.$emit('turn-off-link-mode');\n    },\n\n    toggleLinkMode(properties) {\n      this.isLinkAddMode = properties.bool;\n    },\n\n    changeFields() {\n      this.selectedBlockView.redrawOnSnap();\n    },\n  },\n\n};\n</script>\n\n<style scoped>\n.editorSvg {\n  /*border: 5px solid black;*/\n  margin: 5px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/boundary/DiagramUI/DiagramUI.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{ref:\"canvas\",staticClass:\"editorSvg\",attrs:{\"id\":\"mySvg\",\"height\":_vm.height,\"width\":_vm.width},on:{\"click\":_vm.updateInfo}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6636765d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/boundary/DiagramUI/DiagramUI.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6636765d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DiagramUI.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DiagramUI.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DiagramUI.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6636765d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./DiagramUI.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6636765d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/boundary/DiagramUI/DiagramUI.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"selection-entry\" style=\"display:flex; flex-direction: column;\"\r\n        @click=\"select\"\r\n        v-bind:class=\"{ selected : isSelected }\">\r\n    <svg :id=\"'svgID_' + blockType\" class=\"blockSvg\" height=\"60\" width=\"60\"></svg>\r\n    {{ blockType }}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Snap from 'snapsvg-cjs';\r\nimport SvgBlockFactory from '../SnapUtils/svgBlockFactory';\r\n\r\nexport default {\r\n  name: 'SelectionEntry',\r\n  props: {\r\n    blockType: String,\r\n    selectedEntry: String,\r\n  },\r\n  emits: {\r\n    'entry-selected': null,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      snap: null,\r\n      factory: null,\r\n      // isSelected: false,\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.snap = Snap(`#svgID_${this.blockType}`);\r\n    this.snap.attr({ viewBox: '0 0 80 80' });\r\n    this.factory = new SvgBlockFactory(this.snap);\r\n    this.factory.svgCreate_byType(this.blockType, 0, 0, 80, 80);\r\n  },\r\n\r\n  methods: {\r\n    select() {\r\n      // eslint-disable-next-line no-console\r\n      console.log('Entry selected: ', this.blockType);\r\n      this.$emit('entry-selected', this.blockType);\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    isSelected() {\r\n      return this.blockType === this.selectedEntry;\r\n    },\r\n  },\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.selection-entry{\r\n  margin: 2px;\r\n}\r\n.blockSvg{\r\n  margin: 4px;\r\n}\r\n.selection-entry:hover{\r\n  background-color: #dddddd;\r\n}\r\n\r\n.selected {\r\n  background-color: #dddddd;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/boundary/SidePanel/SelectionEntry.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"selection-entry\",class:{ selected : _vm.isSelected },staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"},on:{\"click\":_vm.select}},[_c('svg',{staticClass:\"blockSvg\",attrs:{\"id\":'svgID_' + _vm.blockType,\"height\":\"60\",\"width\":\"60\"}}),_vm._v(\"\\n  \"+_vm._s(_vm.blockType)+\"\\n\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-356dc5ca\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/boundary/SidePanel/SelectionEntry.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-356dc5ca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SelectionEntry.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SelectionEntry.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SelectionEntry.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-356dc5ca\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SelectionEntry.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-356dc5ca\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/boundary/SidePanel/SelectionEntry.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <input id=\"blockTitle\" type=\"text\" placeholder=\"Enter block title\"\r\n           name=\"blockTitle\" v-model=\"blockTitle\">\r\n    <div class=\"selection-grid\" style=\"display:flex; flex-direction: row;\">\r\n      <selection-entry v-for=\"type in supportedBlockTypes\"\r\n                       v-bind:block-type=\"type\"\r\n                       v-bind:selected-entry=\"blockType\"\r\n                       v-on:entry-selected=\"changeSelected\"\r\n                       v-bind:key=\"type\"/>\r\n      <button type=\"button\" class=\"btn icon-plus sidePanelBtn\" v-on:click=\"addNewBlock()\">\r\n        Add new block\r\n      </button>\r\n    </div>\r\n\r\n    <div style=\"display:flex; flex-direction: column;\r\n      justify-content: space-around; align-items: center\">\r\n      <div style=\"display:flex; flex-direction: row;\r\n        justify-content: space-around; align-items: center\">\r\n        <div style=\"margin: 5px\">\r\n          <input type=\"radio\" id=\"linkChoice1\"\r\n                name=\"linkType\" value=\"Association\" v-model=\"linkType\">\r\n          <label for=\"linkChoice1\">Association</label>\r\n        </div>\r\n        <div style=\"margin: 5px\">\r\n          <input type=\"radio\" id=\"linkChoice2\"\r\n                name=\"linkType\" value=\"Association(Bidirectional)\" v-model=\"linkType\">\r\n          <label for=\"linkChoice2\">Association(Bidirectional)</label>\r\n        </div>\r\n        <div style=\"margin: 5px\">\r\n          <input type=\"radio\" id=\"linkChoice3\"\r\n                name=\"linkType\" value=\"Dependency\" v-model=\"linkType\">\r\n          <label for=\"linkChoice3\">Dependency</label>\r\n        </div>\r\n        <button type=\"button\" class=\"btn icon-plus sidePanelBtn\" v-on:click=\"toggleLinkMode()\">\r\n          Toggle link mode\r\n        </button>\r\n      </div>\r\n      <h3 v-if=\"isLinkAddMode\" style=\"margin: 5px\">Link mode</h3>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-console */\r\nimport SelectionEntry from './SelectionEntry';\r\n\r\nexport default {\r\n  name: 'SidePanel',\r\n  components: { SelectionEntry },\r\n  props: {\r\n    isLinkAddMode: Boolean,\r\n    supportedBlockTypes: Array,\r\n  },\r\n  emits: {\r\n    'toggle-link-mode': { bool: Boolean },\r\n    'create-block': { Type: String, title: String },\r\n  },\r\n  data() {\r\n    return {\r\n      blockTitle: '',\r\n      blockType: null,\r\n      linkType: null,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    addNewBlock() {\r\n      // TODO: Find a better way to handle blocks with an empty title\r\n      // TODO: (or a title that only contains spaces)\r\n      if (this.blockType != null) {\r\n        let newTitle;\r\n        if (this.blockTitle.replaceAll(' ', '') === '') {\r\n          newTitle = this.blockType;\r\n        } else {\r\n          newTitle = this.blockTitle;\r\n        }\r\n        this.$emit('create-block', { Type: this.blockType, title: newTitle });\r\n        this.clear();\r\n      }\r\n    },\r\n\r\n    toggleLinkMode() {\r\n      this.$emit('toggle-link-mode', { bool: !this.isLinkAddMode });\r\n    },\r\n\r\n    clear() {\r\n      this.blockTitle = '';\r\n      this.blockType = null;\r\n      this.linkType = null;\r\n    },\r\n\r\n    changeSelected(sel) {\r\n      this.blockType = sel;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/boundary/SidePanel/SidePanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.blockTitle),expression:\"blockTitle\"}],attrs:{\"id\":\"blockTitle\",\"type\":\"text\",\"placeholder\":\"Enter block title\",\"name\":\"blockTitle\"},domProps:{\"value\":(_vm.blockTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.blockTitle=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"selection-grid\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\"}},[_vm._l((_vm.supportedBlockTypes),function(type){return _c('selection-entry',{key:type,attrs:{\"block-type\":type,\"selected-entry\":_vm.blockType},on:{\"entry-selected\":_vm.changeSelected}})}),_vm._v(\" \"),_c('button',{staticClass:\"btn icon-plus sidePanelBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addNewBlock()}}},[_vm._v(\"\\n      Add new block\\n    \")])],2),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-around\",\"align-items\":\"center\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\",\"justify-content\":\"space-around\",\"align-items\":\"center\"}},[_c('div',{staticStyle:{\"margin\":\"5px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.linkType),expression:\"linkType\"}],attrs:{\"type\":\"radio\",\"id\":\"linkChoice1\",\"name\":\"linkType\",\"value\":\"Association\"},domProps:{\"checked\":_vm._q(_vm.linkType,\"Association\")},on:{\"change\":function($event){_vm.linkType=\"Association\"}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"linkChoice1\"}},[_vm._v(\"Association\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"5px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.linkType),expression:\"linkType\"}],attrs:{\"type\":\"radio\",\"id\":\"linkChoice2\",\"name\":\"linkType\",\"value\":\"Association(Bidirectional)\"},domProps:{\"checked\":_vm._q(_vm.linkType,\"Association(Bidirectional)\")},on:{\"change\":function($event){_vm.linkType=\"Association(Bidirectional)\"}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"linkChoice2\"}},[_vm._v(\"Association(Bidirectional)\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"5px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.linkType),expression:\"linkType\"}],attrs:{\"type\":\"radio\",\"id\":\"linkChoice3\",\"name\":\"linkType\",\"value\":\"Dependency\"},domProps:{\"checked\":_vm._q(_vm.linkType,\"Dependency\")},on:{\"change\":function($event){_vm.linkType=\"Dependency\"}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"linkChoice3\"}},[_vm._v(\"Dependency\")])]),_vm._v(\" \"),_c('button',{staticClass:\"btn icon-plus sidePanelBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggleLinkMode()}}},[_vm._v(\"\\n        Toggle link mode\\n      \")])]),_vm._v(\" \"),(_vm.isLinkAddMode)?_c('h3',{staticStyle:{\"margin\":\"5px\"}},[_vm._v(\"Link mode\")]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0dbec7bf\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/boundary/SidePanel/SidePanel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0dbec7bf\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SidePanel.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SidePanel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SidePanel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0dbec7bf\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SidePanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0dbec7bf\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/boundary/SidePanel/SidePanel.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div v-if=\"selectedBlockView!=null\" class=\"editing-panel\">\r\n      <div class=\"panel-header\">\r\n        <h2>Block modification</h2>\r\n        <span v-on:click=\"close\" class=\"closeForm\"\r\n              title=\"Close panel\">X</span>\r\n      </div>\r\n\r\n      <h3 class=\"input-title\"\r\n          style=\"margin-top:5px; margin-bottom:5px;\">\r\n          Name:\r\n      </h3>\r\n      <input id=\"selectedBlockTitle\" ref=\"blockTitle\"\r\n          style=\"padding:15px; padding-top:5px; margin-bottom:5px; font-size:17px;\"\r\n          type=\"text\" placeholder=\"Enter block title\"\r\n          name=\"blockTitle\" :value=selectedBlockView.block.title>\r\n\r\n      <h3 class=\"input-title\"\r\n          style=\"margin-top:5px; margin-bottom:5px;\">\r\n          Description:\r\n      </h3>\r\n      <input id=\"selectedBlockDescription\" ref=\"blockDescription\"\r\n          style=\"padding:15px; padding-top:5px; margin-bottom:5px; font-size:17px;\"\r\n          type=\"text\" placeholder=\"Enter block description\"\r\n          name=\"blockDescription\" :value=selectedBlockView.block.description>\r\n\r\n      <div v-if=\"selectedBlockView.block.additionalFields\">\r\n        <div v-for=\"attributeKey in Object.keys(selectedBlockView.block.additionalFields)\"\r\n          v-bind:key=\"attributeKey\">\r\n          <div v-if=\"attributeKey=='stereotype'\">\r\n            <h3 class=\"input-title\"\r\n              style=\"margin-top:5px; margin-bottom:5px;\">\r\n              Stereotype\r\n            </h3>\r\n            <select ref=\"selectStereotype\" v-model=\"selectedStereotype\">\r\n              <option>Boundary</option>\r\n              <option>Control</option>\r\n              <option>Entity</option>\r\n              <option></option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div ref=\"additionalFieldsSection\" v-if=\"selectedBlockView.block.additionalFields\">\r\n        <div v-for=\"attributeKey in Object.keys(selectedBlockView.block.additionalFields)\"\r\n          v-bind:key=\"attributeKey\">\r\n          <div v-if=\"attributeKey=='Operations'||attributeKey=='Attributes'\">\r\n            <h3 class=\"input-title\"\r\n              style=\"margin-top:5px; margin-bottom:5px;\">\r\n              {{ attributeKey }}\r\n            </h3>\r\n            <ul class=\"additionalFieldList\">\r\n              <li v-for=\"attributeValue in selectedBlockView.block.additionalFields[attributeKey]\"\r\n                :key=\"attributeValue\">\r\n                <div style=\"display:flex; flex-direction: row; align-items: center\">\r\n                  <input class=\"additionalFieldItem\" :id=attributeKey :value=attributeValue>\r\n                  <button class=\"deleteAttributeValueBtn\" role=\"button\"\r\n                    v-on:click=\"deleteItem(attributeKey, attributeValue)\">\r\n                    X\r\n                  </button>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n            <button class=\"addNewAttributeValueBtn\" role=\"button\"\r\n              v-on:click=\"addNewItem(attributeKey)\">\r\n              Add new item\r\n            </button>\r\n          </div>\r\n          <div v-else-if=\"attributeKey!=='stereotype'\">\r\n            <div class=\"input-title\">{{ attributeKey }}:</div>\r\n            <input type=\"text\" placeholder=\"Enter property value\"\r\n                :value=selectedBlockView.block.additionalFields[attributeKey]>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <button class=\"btn btn-1\" style=\"margin-left: 20px\" v-on:click=\"apply(false)\">\r\n        Apply Changes\r\n      </button>\r\n      <button class=\"btn btn-1\"\r\n        style=\"margin-left: 20px; background: red; color: white\" v-on:click=\"deleteBlock()\">\r\n        Delete block\r\n      </button>\r\n    </div>\r\n    <div v-if=\"selectedLink!=null\">\r\n      <button class=\"btn btn-1\"\r\n        style=\"margin-left: 20px; background: red; color: white\" v-on:click=\"deleteLink()\">\r\n        Delete link\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable guard-for-in */\r\n/* eslint-disable no-restricted-syntax */\r\n/* eslint-disable no-console */\r\nimport blockView from './SnapUtils/blockView';\r\n\r\nexport default {\r\n  name: 'EditingPanel',\r\n  props: {\r\n    selectedBlockView: blockView,\r\n    selectedLink: Object,\r\n  },\r\n  emits: {\r\n    'close-panel': null,\r\n    'apply-changes': {\r\n      additionalFields: {},\r\n      title: String,\r\n      description: String,\r\n    },\r\n    'item-deleted': {},\r\n    'delete-block': { blockToDelete: Object },\r\n    'delete-link': Object,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      snap: null,\r\n      selectedStereotype: '',\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.updateStereotypySelection();\r\n  },\r\n\r\n  updated() {\r\n    this.updateStereotypySelection();\r\n  },\r\n\r\n  methods: {\r\n    close() {\r\n      this.$emit('close-panel');\r\n    },\r\n\r\n    updateStereotypySelection() {\r\n      if (this.selectedBlockView.block.additionalFields) {\r\n        if (this.selectedBlockView.block.additionalFields.stereotype) {\r\n          const currentOption = this.selectedBlockView.block.additionalFields.stereotype;\r\n          for (const option in Object.values(this.$refs.selectStereotype[0])) {\r\n            if (this.$refs.selectStereotype[0][option] !== undefined) {\r\n              if (this.$refs.selectStereotype[0][option].value === currentOption) {\r\n                this.$refs.selectStereotype[0][option].selected = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    apply(addNewItem = false) {\r\n      const newAdditionFieldsDict = {};\r\n      if (this.selectedBlockView.block.additionalFields !== null) {\r\n        const oldKeys = Object.keys(this.selectedBlockView.block.additionalFields);\r\n        for (const attributeKey in oldKeys) {\r\n          newAdditionFieldsDict[oldKeys[attributeKey]] = [];\r\n        }\r\n\r\n        const additionalFieldInputs = this.$refs.additionalFieldsSection.querySelectorAll('input');\r\n\r\n        additionalFieldInputs.forEach((fieldInput) => {\r\n          if (fieldInput.id in newAdditionFieldsDict === false) {\r\n            newAdditionFieldsDict[fieldInput.id] = [];\r\n          }\r\n\r\n          if (addNewItem || (fieldInput.value !== '')) {\r\n            newAdditionFieldsDict[fieldInput.id].push(fieldInput.value);\r\n          }\r\n        });\r\n\r\n        if (this.selectedBlockView.block.additionalFields.stereotype) {\r\n          newAdditionFieldsDict.stereotype = this.selectedStereotype;\r\n        }\r\n      }\r\n      // TODO work with SVG should be only in DiagramUI\r\n      this.selectedBlockView.blockGroup[1].node.textContent = this.$refs.blockTitle.value;\r\n      this.$emit('apply-changes', {\r\n        additionalFields: newAdditionFieldsDict,\r\n        title: this.$refs.blockTitle.value,\r\n        description: this.$refs.blockDescription.value,\r\n      });\r\n    },\r\n\r\n    addNewItem(itemType) {\r\n      this.apply(true);\r\n      let addingAllowed = true;\r\n      const additionalFieldInputs = this.$refs.additionalFieldsSection.querySelectorAll('input');\r\n      additionalFieldInputs.forEach((fieldInput) => {\r\n        if (fieldInput.id === itemType && fieldInput.value === '') {\r\n          addingAllowed = false;\r\n        }\r\n      });\r\n\r\n      if (addingAllowed) {\r\n        // TODO is it OK to let this boundary edit entities? probably not...\r\n        if (this.selectedBlockView.block.additionalFields !== null) {\r\n          if (itemType in this.selectedBlockView.block.additionalFields === false) {\r\n            this.selectedBlockView.block.additionalFields[itemType] = [];\r\n          }\r\n          this.selectedBlockView.block.additionalFields[itemType].push('');\r\n        }\r\n      }\r\n    },\r\n\r\n    deleteItem(attributeKey, attributeValue) {\r\n      const newAdditionFieldsDict = {};\r\n      const additionalFieldInputs = this.$refs.additionalFieldsSection.querySelectorAll('input');\r\n      additionalFieldInputs.forEach((fieldInput) => {\r\n        if (fieldInput.id in newAdditionFieldsDict === false) {\r\n          newAdditionFieldsDict[fieldInput.id] = [];\r\n        }\r\n\r\n        if (((fieldInput.id === attributeKey) && (fieldInput.value === attributeValue)) === false) {\r\n          newAdditionFieldsDict[fieldInput.id].push(fieldInput.value);\r\n        }\r\n      });\r\n\r\n      this.$emit('item-deleted', newAdditionFieldsDict);\r\n    },\r\n\r\n    deleteBlock() {\r\n      this.$emit('delete-block', { blockToDelete: this.selectedBlockView });\r\n    },\r\n\r\n    deleteLink() {\r\n      this.$emit('delete-link', this.selectedLink);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.editing-panel {\r\n  padding: 1px;\r\n  text-align: left;\r\n  background-color: #f1f1f1;\r\n  margin-bottom: 30px;\r\n  margin-top: 30px;\r\n}\r\n\r\n.input-title {\r\n  padding-left: 15px;\r\n}\r\n\r\n.panel-header {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/boundary/EditingPanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.selectedBlockView!=null)?_c('div',{staticClass:\"editing-panel\"},[_c('div',{staticClass:\"panel-header\"},[_c('h2',[_vm._v(\"Block modification\")]),_vm._v(\" \"),_c('span',{staticClass:\"closeForm\",attrs:{\"title\":\"Close panel\"},on:{\"click\":_vm.close}},[_vm._v(\"X\")])]),_vm._v(\" \"),_c('h3',{staticClass:\"input-title\",staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}},[_vm._v(\"\\n        Name:\\n    \")]),_vm._v(\" \"),_c('input',{ref:\"blockTitle\",staticStyle:{\"padding\":\"15px\",\"padding-top\":\"5px\",\"margin-bottom\":\"5px\",\"font-size\":\"17px\"},attrs:{\"id\":\"selectedBlockTitle\",\"type\":\"text\",\"placeholder\":\"Enter block title\",\"name\":\"blockTitle\"},domProps:{\"value\":_vm.selectedBlockView.block.title}}),_vm._v(\" \"),_c('h3',{staticClass:\"input-title\",staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}},[_vm._v(\"\\n        Description:\\n    \")]),_vm._v(\" \"),_c('input',{ref:\"blockDescription\",staticStyle:{\"padding\":\"15px\",\"padding-top\":\"5px\",\"margin-bottom\":\"5px\",\"font-size\":\"17px\"},attrs:{\"id\":\"selectedBlockDescription\",\"type\":\"text\",\"placeholder\":\"Enter block description\",\"name\":\"blockDescription\"},domProps:{\"value\":_vm.selectedBlockView.block.description}}),_vm._v(\" \"),(_vm.selectedBlockView.block.additionalFields)?_c('div',_vm._l((Object.keys(_vm.selectedBlockView.block.additionalFields)),function(attributeKey){return _c('div',{key:attributeKey},[(attributeKey=='stereotype')?_c('div',[_c('h3',{staticClass:\"input-title\",staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}},[_vm._v(\"\\n            Stereotype\\n          \")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedStereotype),expression:\"selectedStereotype\"}],ref:\"selectStereotype\",refInFor:true,on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedStereotype=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',[_vm._v(\"Boundary\")]),_vm._v(\" \"),_c('option',[_vm._v(\"Control\")]),_vm._v(\" \"),_c('option',[_vm._v(\"Entity\")]),_vm._v(\" \"),_c('option')])]):_vm._e()])}),0):_vm._e(),_vm._v(\" \"),(_vm.selectedBlockView.block.additionalFields)?_c('div',{ref:\"additionalFieldsSection\"},_vm._l((Object.keys(_vm.selectedBlockView.block.additionalFields)),function(attributeKey){return _c('div',{key:attributeKey},[(attributeKey=='Operations'||attributeKey=='Attributes')?_c('div',[_c('h3',{staticClass:\"input-title\",staticStyle:{\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}},[_vm._v(\"\\n            \"+_vm._s(attributeKey)+\"\\n          \")]),_vm._v(\" \"),_c('ul',{staticClass:\"additionalFieldList\"},_vm._l((_vm.selectedBlockView.block.additionalFields[attributeKey]),function(attributeValue){return _c('li',{key:attributeValue},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\",\"align-items\":\"center\"}},[_c('input',{staticClass:\"additionalFieldItem\",attrs:{\"id\":attributeKey},domProps:{\"value\":attributeValue}}),_vm._v(\" \"),_c('button',{staticClass:\"deleteAttributeValueBtn\",attrs:{\"role\":\"button\"},on:{\"click\":function($event){return _vm.deleteItem(attributeKey, attributeValue)}}},[_vm._v(\"\\n                  X\\n                \")])])])}),0),_vm._v(\" \"),_c('button',{staticClass:\"addNewAttributeValueBtn\",attrs:{\"role\":\"button\"},on:{\"click\":function($event){return _vm.addNewItem(attributeKey)}}},[_vm._v(\"\\n            Add new item\\n          \")])]):(attributeKey!=='stereotype')?_c('div',[_c('div',{staticClass:\"input-title\"},[_vm._v(_vm._s(attributeKey)+\":\")]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"Enter property value\"},domProps:{\"value\":_vm.selectedBlockView.block.additionalFields[attributeKey]}})]):_vm._e()])}),0):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-1\",staticStyle:{\"margin-left\":\"20px\"},on:{\"click\":function($event){return _vm.apply(false)}}},[_vm._v(\"\\n      Apply Changes\\n    \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-1\",staticStyle:{\"margin-left\":\"20px\",\"background\":\"red\",\"color\":\"white\"},on:{\"click\":function($event){return _vm.deleteBlock()}}},[_vm._v(\"\\n      Delete block\\n    \")])]):_vm._e(),_vm._v(\" \"),(_vm.selectedLink!=null)?_c('div',[_c('button',{staticClass:\"btn btn-1\",staticStyle:{\"margin-left\":\"20px\",\"background\":\"red\",\"color\":\"white\"},on:{\"click\":function($event){return _vm.deleteLink()}}},[_vm._v(\"\\n      Delete link\\n    \")])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f4ed0e4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/boundary/EditingPanel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f4ed0e4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditingPanel.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditingPanel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditingPanel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f4ed0e4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditingPanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6f4ed0e4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/boundary/EditingPanel.vue\n// module id = null\n// module chunks = ","export default class Block {\r\n  Id = null;\r\n  Type = '';\r\n  coords = [null, null];\r\n  width = null;\r\n  height = null;\r\n  title = '';\r\n  description = '';\r\n  additionalFields = {\r\n    // attrs, methods for 'Class' type\r\n  };\r\n  constructor(Id, Type, x, y, width, height, title = `Default name ${Id}`, description = '', additionalFields = null) {\r\n    this.Id = Id;\r\n    Object.defineProperty(this, 'Id', { writable: false }); // readonly ID\r\n    this.Type = Type;\r\n    this.coords = [x, y];\r\n    this.width = width;\r\n    this.height = height;\r\n    this.description = description;\r\n    if (title.replaceAll(' ', '') === '') {\r\n      this.title = Type;\r\n    } else {\r\n      this.title = title;\r\n    }\r\n    if (this.Type === 'Class' && additionalFields === null) {\r\n      this.additionalFields.Attributes = [];\r\n      this.additionalFields.Operations = [];\r\n      this.additionalFields.stereotype = '';\r\n    } else {\r\n      this.additionalFields = additionalFields;\r\n    }\r\n  }\r\n\r\n  setCoords(coords) {\r\n    this.coords = coords;\r\n  }\r\n\r\n  setWidth(width) {\r\n    this.width = width;\r\n  }\r\n\r\n  setHeight(height) {\r\n    this.height = height;\r\n  }\r\n\r\n  addAttribute(attrContent) {\r\n    if (this.Type === 'Class') {\r\n      this.additionalFields.attrs.push(attrContent);\r\n    }\r\n  }\r\n\r\n  addMethod(methodContent) {\r\n    if (this.Type === 'Class') {\r\n      this.additionalFields.attrs.push(methodContent);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entity/block.js","export default class Link {\n  Id = null;\n  Type = '';\n  sId = null; // sorceID\n  tId = null; // targetID\n  // TODO additional fields. For example name and description\n  constructor(Id, Type, sorceId, targetId) {\n    this.Id = Id;\n    Object.defineProperty(this, 'Id', { writable: false }); // readonly ID\n    this.Type = Type;\n    this.sId = sorceId;\n    this.tId = targetId;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/entity/link.js","<template>\n  <div style=\"display:flex; flex-direction: row; margin-top: 20px\">\n    <diagram-ui v-if=\"showDiagramWindow\" v-bind:currentDiagram=\"this.currentDiagram\"\n                ref=\"diagramUI\" :key=\"keyOfDiagramUI\"\n                v-on:ready-add-new-link=\"addNewLink\"\n                v-on:block-view-selected=\"changeSelected\"\n                v-on:link-selected=\"changeSelectedLink\"\n                v-on:turn-off-link-mode=\"turnOffLinkMode\"/>\n    <div style=\"display:flex; flex-direction: column\">\n      <side-panel v-on:create-block=\"addNewBlock\"\n                  v-bind:is-link-add-mode=\"isLinkAddMode\"\n                  v-bind:supported-block-types=\"supportedBlocks\"\n                  v-on:toggle-link-mode=\"toggleLinkMode\"\n                  ref=\"sidePanel\"/>\n      <editing-panel v-if=\"(selectedBlockView!=null || selectedLink!=null)&&isLinkAddMode===false\"\n                     v-bind:selected-block-view=\"selectedBlockView\"\n                     v-bind:selected-link=\"selectedLink\"\n                     v-on:close-panel=\"selectedBlockView.removeLinkPoints();selectedBlockView=null\"\n                     v-on:apply-changes=\"changeFields\"\n                     v-on:item-deleted=\"updateAdditionalFields\"\n                     v-on:delete-block=\"deleteBlockFromSnap\"\n                     v-on:delete-link=\"deleteLinkFromSnap\"/>\n    </div>\n    <!--  TODO add block boundary component  -->\n  </div>\n</template>\n\n<script>\n/* eslint-disable no-console */\nimport DiagramUi from '../boundary/DiagramUI/DiagramUI';\nimport SidePanel from '../boundary/SidePanel/SidePanel';\nimport EditingPanel from '../boundary/EditingPanel';\nimport {\n  createNewBlock, createNewLink, getDiagramContent,\n  updateBlockProperties, deleteLink, deleteBlock, initSocketIo,\n} from '../boundary/serverProtocol';\nimport Block from '../entity/block';\nimport Link from '../entity/link';\nimport Diagram from '../entity/diagram';\n\n\nexport default {\n  name: 'DiagramController',\n  components: { DiagramUi, SidePanel, EditingPanel },\n  props: {\n    currentDiagram: Diagram,\n  },\n\n  data() {\n    return {\n      showDiagramWindow: false,\n      isLinkAddMode: false,\n      keyOfDiagramUI: 0,\n      selectedBlockView: null,\n      selectedLink: null,\n      newBlockProperties: null,\n      newLinkProperties: null,\n    };\n  },\n\n  mounted() {\n    this.init();\n  },\n\n  methods: {\n    init() {\n      initSocketIo();\n      getDiagramContent(this.currentDiagram.Id, this.loadDiagramContent);\n    },\n\n    // Callback for socketIO on getDiagramContentHandler\n    loadDiagramContent(data) {\n      console.log('Diagram content ', data);\n      data.blocks.forEach((block) => {\n        this.currentDiagram.blocks.push(new Block(block.Id, block.Type,\n          block.coords[0], block.coords[1], block.width, block.height,\n          block.title, block.description, block.additionalFields));\n      });\n      data.links.forEach((link) => {\n        this.currentDiagram.links.push(new Link(link.Id, link.Type,\n          link.sId, link.tId));\n      });\n      this.showDiagramWindow = true;\n    },\n\n    // Make request to server\n    addNewBlock(fields) {\n      this.newBlockProperties = {\n        dId: this.currentDiagram.Id,\n        Type: fields.Type,\n        coords: [250, 250],\n        width: 80,\n        height: 80,\n        title: fields.title,\n      };\n\n      createNewBlock(this.newBlockProperties, this.addNewBlockHandler);\n    },\n\n    // Handler when server returns block ID\n    addNewBlockHandler(blockId) {\n      console.log('New block ID:', blockId);\n      const newBlock = new Block(blockId, this.newBlockProperties.Type,\n        this.newBlockProperties.coords[0], this.newBlockProperties.coords[1],\n        this.newBlockProperties.width, this.newBlockProperties.height,\n        this.newBlockProperties.title);\n      this.currentDiagram.blocks.push(newBlock);\n      this.$refs.diagramUI.drawNewBlock(newBlock);\n      this.newBlockProperties = null;\n    },\n\n    deleteLinkFromSnap(linkToDelete, deleteFromServer = true) {\n      this.selectedBlockView = null;\n      this.selectedLink = null;\n      const index = this.$refs.diagramUI.snapLinks.indexOf(linkToDelete);\n      console.log('Delete link:', linkToDelete, index);\n      if (index > -1) {\n        this.$refs.diagramUI.snapLinks.splice(index, 1);\n        linkToDelete.line.remove();\n        linkToDelete.bg.remove();\n        if (linkToDelete.arrow !== undefined) {\n          linkToDelete.arrow.remove();\n        }\n      }\n      if (deleteFromServer) {\n        deleteLink(linkToDelete.lId);\n      }\n    },\n\n    deleteBlockFromSnap(parameters) {\n      this.selectedBlockView = null;\n      this.selectedLink = null;\n      const blockToDelete = parameters.blockToDelete;\n      blockToDelete.removeLinkPoints();\n      blockToDelete.blockGroup.remove();\n\n      const blockId = blockToDelete.block.Id;\n      const linksToRemove = [];\n      this.$refs.diagramUI.snapLinks.forEach((link) => {\n        const fromBlockID = link.from.block.Id;\n        const toBlockID = link.to.block.Id;\n        if ((fromBlockID === blockId) || (toBlockID === blockId)) {\n          linksToRemove.push(link);\n        }\n      });\n\n      linksToRemove.forEach((link) => {\n        this.deleteLinkFromSnap(link, false);\n      });\n\n      deleteBlock(blockId);\n\n      const index = this.$refs.diagramUI.snapBlocks.indexOf(blockToDelete);\n      this.$refs.diagramUI.snapBlocks.splice(index, 1);\n      this.selectedBlockView = null;\n    },\n\n    redrawDiagramUI() {\n      this.keyOfDiagramUI += 1;\n    },\n\n    toggleLinkMode(properties) {\n      this.isLinkAddMode = properties.bool;\n      this.$refs.diagramUI.toggleLinkMode(properties);\n    },\n\n    turnOffLinkMode() {\n      this.isLinkAddMode = false;\n    },\n\n    addNewLink(data) {\n      const linkType = this.$refs.sidePanel.linkType;\n      if (linkType == null) {\n        return;\n      }\n      if (data.targetID == null || data.sourceID == null) {\n        console.log('Link creation error: null as ID');\n        return;\n      }\n      const properties = {\n        dId: this.currentDiagram.Id,\n        Type: linkType,\n        sId: data.sourceID,\n        tId: data.targetID,\n      };\n      console.log('Creating new link');\n      // making request to the server\n      this.newLinkProperties = properties;\n      createNewLink(properties, this.addNewLinkHandler);\n    },\n    // Handler when server returns link ID\n    addNewLinkHandler(linkId) {\n      console.log('New Link ID:', linkId);\n      const newLink = new Link(linkId, this.newLinkProperties.Type,\n        this.newLinkProperties.sId, this.newLinkProperties.tId);\n      this.currentDiagram.links.push(newLink);\n      this.$refs.diagramUI.drawNewLink(this.newLinkProperties.Type, linkId);\n      this.$refs.sidePanel.clear();\n      this.newLinkProperties = null;\n    },\n\n    changeSelected(blockView) {\n      this.selectedBlockView = blockView;\n    },\n\n    changeSelectedLink(link) {\n      if (this.selectedLink !== null) {\n        this.selectedLink.changeColor('black');\n      }\n      this.selectedLink = link;\n      if (link !== null) {\n        link.changeColor('blue');\n      }\n    },\n\n    changeFields(data) {\n      this.selectedBlockView.removeLinkPoints();\n      this.selectedBlockView.block.additionalFields = data.additionalFields;\n      this.selectedBlockView.block.title = data.title;\n      this.selectedBlockView.block.description = data.description;\n      updateBlockProperties(this.selectedBlockView.block);\n      this.$refs.diagramUI.changeFields();\n    },\n\n    updateAdditionalFields(newAdditionFieldsDict) {\n      this.selectedBlockView.removeLinkPoints();\n      this.selectedBlockView.block.additionalFields = newAdditionFieldsDict;\n      updateBlockProperties(this.selectedBlockView.block);\n      this.$refs.diagramUI.changeFields();\n    },\n  },\n\n  computed: {\n    supportedBlocks() {\n      let blocks = [];\n      if (this.currentDiagram.mode.toLowerCase() === 'free') {\n        blocks = ['Class', 'Use-case', 'Actor'];\n      } else if (this.currentDiagram.Type.toLowerCase() === 'use-case') {\n        blocks = ['Use-case', 'Actor'];\n      } else if (this.currentDiagram.Type.toLowerCase() === 'class') {\n        blocks = ['Class'];\n      } else {\n        console.log('Unsupported schema');\n      }\n      return blocks;\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/controller/DiagramController.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\",\"margin-top\":\"20px\"}},[(_vm.showDiagramWindow)?_c('diagram-ui',{key:_vm.keyOfDiagramUI,ref:\"diagramUI\",attrs:{\"currentDiagram\":this.currentDiagram},on:{\"ready-add-new-link\":_vm.addNewLink,\"block-view-selected\":_vm.changeSelected,\"link-selected\":_vm.changeSelectedLink,\"turn-off-link-mode\":_vm.turnOffLinkMode}}):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('side-panel',{ref:\"sidePanel\",attrs:{\"is-link-add-mode\":_vm.isLinkAddMode,\"supported-block-types\":_vm.supportedBlocks},on:{\"create-block\":_vm.addNewBlock,\"toggle-link-mode\":_vm.toggleLinkMode}}),_vm._v(\" \"),((_vm.selectedBlockView!=null || _vm.selectedLink!=null)&&_vm.isLinkAddMode===false)?_c('editing-panel',{attrs:{\"selected-block-view\":_vm.selectedBlockView,\"selected-link\":_vm.selectedLink},on:{\"close-panel\":function($event){_vm.selectedBlockView.removeLinkPoints();_vm.selectedBlockView=null},\"apply-changes\":_vm.changeFields,\"item-deleted\":_vm.updateAdditionalFields,\"delete-block\":_vm.deleteBlockFromSnap,\"delete-link\":_vm.deleteLinkFromSnap}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7741e48a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/controller/DiagramController.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7741e48a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DiagramController.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DiagramController.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DiagramController.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7741e48a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DiagramController.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7741e48a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/controller/DiagramController.vue\n// module id = null\n// module chunks = ","\n\n<template>\n  <div>\n    <div class=\"navbar\">\n      <button class=\"btn btn-1\" v-on:click=\"goHome()\">\n        Home\n      </button>\n      <h1 v-if=\"state==='project navigator'\">Project navigator</h1>\n      <h1 v-else-if=\"state==='diagram navigator'\">Project \"{{ currentProject.name }}\"</h1>\n      <h1 v-else-if=\"state==='diagram editor'\">Diagram \"{{ currentDiagram.name }}\"</h1>\n      <button class=\"btn btn-1 btn-sep icon-plus\" v-if=\"state==='project navigator'\"\n              v-on:click=\"showCreateNewProjectDialog=true\">\n        Create new project\n      </button>\n      <button class=\"btn btn-1 btn-sep icon-plus\" v-if=\"state==='diagram navigator'\"\n              v-on:click=\"showCreateNewDiagramDialog=true\">\n        Create new diagram\n      </button>\n    </div>\n\n    <div class=\"projectTable\" v-if=\"state==='project navigator'\">\n      <div class=\"column\" v-for=\"project in projects\" v-bind:key=\"project.Id\">\n        <div class=\"card\" v-on:click=\"openProject(project)\">\n          <p><b>Name:</b> {{ project.name }}</p>\n          <p><b>Description:</b> {{ project.description }}</p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"projectTable\" v-else-if=\"state==='diagram navigator'\">\n      <div class=\"column\" v-for=\"diagram in currentProject.diagrams\" v-bind:key=\"diagram.Id\">\n        <div class=\"card\" @click=\"openDiagram(diagram)\">\n          <p><b>Name:</b> {{ diagram.name }}</p>\n          <p><b>Description:</b> {{ diagram.description }}</p>\n          <p><b>Type:</b> {{ diagram.Type }} diagram</p>\n          <p><b>Mode:</b> {{ diagram.mode }}</p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"diagramEditor\" v-else-if=\"state==='diagram editor'\">\n      <diagram-controller v-bind:current-diagram=\"currentDiagram\"/>\n    </div>\n\n    <div v-if=\"showCreateNewProjectDialog\" id=\"id01\" class=\"newProjectModal\">\n      <!-- TODO: form @submit handling -->\n      <form class=\"newProjectModal-content\">\n        <div class=\"formHeader\">\n          <h1>Create new project</h1>\n          <span v-on:click=\"showCreateNewProjectDialog=false\" class=\"closeForm\"\n                title=\"Close form\">X</span>\n        </div>\n        <hr>\n        <div class=\"newProjectForm\">\n          <label for=\"NameProj\"><b>Name</b></label>\n          <input id=\"NameProj\" type=\"text\" placeholder=\"Enter project name\"\n                 name=\"name\" required v-model=\"newName\">\n\n          <label for=\"DescriptionProj\"><b>Description</b></label>\n          <input id=\"DescriptionProj\" type=\"text\" placeholder=\"Enter project description\"\n                 name=\"description\" v-model=\"newDescription\">\n\n          <div class=\"newProjectButtons\">\n            <button type=\"button\" v-on:click=\"showCreateNewProjectDialog=false\"\n                    class=\"cancelbtn\">\n              Cancel\n            </button>\n            <button type=\"button\" class=\"signupbtn\" v-on:click=\"addProject()\">Create</button>\n          </div>\n        </div>\n      </form>\n    </div>\n\n    <div v-if=\"showCreateNewDiagramDialog\" class=\"newProjectModal\">\n      <form class=\"newProjectModal-content\">\n        <div class=\"formHeader\">\n          <h1>Create new diagram</h1>\n          <span v-on:click=\"showCreateNewDiagramDialog=false\" class=\"closeForm\"\n                title=\"Close form\">X</span>\n        </div>\n        <hr>\n        <div class=\"newProjectForm\">\n          <label for=\"Name\"><b>Name</b></label>\n          <input id=\"Name\" type=\"text\" placeholder=\"Enter diagram name\"\n                 name=\"name\" v-model=\"newName\" required>\n\n          <label for=\"Description\"><b>Description</b></label>\n          <input id=\"Description\" type=\"text\" placeholder=\"Enter diagram description\"\n                 name=\"description\" v-model=\"newDescription\">\n          <div style=\"display:flex; flex-direction: row; margin-top: 20px\">\n            <div>\n              <label><b>Diagram mode</b></label>\n              <select v-model=\"newDiagramMode\">\n                <option>Strict</option>\n                <option>Free</option>\n              </select>\n            </div>\n            <div>\n              <label><b>Diagram type</b></label>\n              <select v-model=\"newDiagramType\">\n                <option>Use-case</option>\n                <option>Class</option>\n              </select>\n            </div>\n          </div>\n          <div class=\"newProjectButtons\">\n            <button type=\"button\" v-on:click=\"showCreateNewDiagramDialog=false\" class=\"cancelbtn\">\n              Cancel\n            </button>\n            <button type=\"button\" class=\"signupbtn\" v-on:click=\"addDiagram()\">Create</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n\n<script>\n/* eslint-disable no-console */\nimport DiagramController from './controller/DiagramController';\nimport {\n  createNewDiagram,\n  createNewProject,\n  loadDiagramsFromServer,\n  loadProjectsFromServer,\n} from './boundary/serverProtocol';\nimport Project from './entity/project';\nimport Diagram from './entity/diagram';\n\nexport default {\n  name: 'App',\n  components: {\n    'diagram-controller': DiagramController,\n  },\n  data() {\n    return {\n      projects: [],\n      newName: '',\n      newDescription: '',\n      newDiagramType: 'Use-case',\n      newDiagramMode: 'Free',\n      currentProject: null,\n      currentDiagram: null,\n      showCreateNewProjectDialog: false,\n      showCreateNewDiagramDialog: false,\n      state: 'project navigator',\n    };\n  },\n\n  mounted() {\n    this.projects = loadProjectsFromServer();\n  },\n\n  methods: {\n    addProject() {\n      const properties = {\n        name: this.newName,\n        description: this.newDescription,\n      };\n      createNewProject(properties).then((pId) => {\n        console.log('New project ID:', pId);\n        const newProject = new Project(pId, this.newName, this.newDescription);\n        this.projects = [...this.projects, newProject];\n        this.showCreateNewProjectDialog = false;\n        this.showProject(newProject);\n      });\n    },\n\n    openProject(project) {\n      this.showProject(project);\n      this.currentProject.diagrams = loadDiagramsFromServer(project.Id);\n    },\n\n    showProject(project) {\n      this.currentProject = project;\n      this.state = 'diagram navigator';\n      this.newName = '';\n      this.newDescription = '';\n    },\n\n    addDiagram() {\n      // TODO: Creating of diagram request to server\n      const properties = {\n        pId: this.currentProject.Id,\n        name: this.newName,\n        description: this.newDescription,\n        Type: this.newDiagramType,\n        mode: this.newDiagramMode,\n      };\n      createNewDiagram(properties).then((dId) => {\n        const newDiagram = new Diagram(\n          dId,\n          this.newName,\n          this.newDescription,\n          this.newDiagramType,\n          this.newDiagramMode,\n        );\n        this.currentProject.diagrams = [...this.currentProject.diagrams, newDiagram];\n        this.showCreateNewDiagramDialog = false;\n        this.showDiagram(newDiagram);\n      });\n    },\n\n    openDiagram(diagram) {\n      this.showDiagram(diagram);\n    },\n\n    showDiagram(diagram) {\n      this.currentDiagram = diagram;\n      this.state = 'diagram editor';\n      this.newName = '';\n      this.newDescription = '';\n    },\n\n    goHome() {\n      this.state = 'project navigator';\n      this.currentDiagram = null;\n      this.currentProject = null;\n    },\n\n    clear() {\n      this.newName = '';\n      this.newDescription = '';\n      this.newDiagramType = 'use-case';\n      this.newDiagramMode = 'free';\n    },\n  },\n};\n</script>\n\n<style>\n@import \"static/projectList.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"navbar\"},[_c('button',{staticClass:\"btn btn-1\",on:{\"click\":function($event){return _vm.goHome()}}},[_vm._v(\"\\n      Home\\n    \")]),_vm._v(\" \"),(_vm.state==='project navigator')?_c('h1',[_vm._v(\"Project navigator\")]):(_vm.state==='diagram navigator')?_c('h1',[_vm._v(\"Project \\\"\"+_vm._s(_vm.currentProject.name)+\"\\\"\")]):(_vm.state==='diagram editor')?_c('h1',[_vm._v(\"Diagram \\\"\"+_vm._s(_vm.currentDiagram.name)+\"\\\"\")]):_vm._e(),_vm._v(\" \"),(_vm.state==='project navigator')?_c('button',{staticClass:\"btn btn-1 btn-sep icon-plus\",on:{\"click\":function($event){_vm.showCreateNewProjectDialog=true}}},[_vm._v(\"\\n      Create new project\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.state==='diagram navigator')?_c('button',{staticClass:\"btn btn-1 btn-sep icon-plus\",on:{\"click\":function($event){_vm.showCreateNewDiagramDialog=true}}},[_vm._v(\"\\n      Create new diagram\\n    \")]):_vm._e()]),_vm._v(\" \"),(_vm.state==='project navigator')?_c('div',{staticClass:\"projectTable\"},_vm._l((_vm.projects),function(project){return _c('div',{key:project.Id,staticClass:\"column\"},[_c('div',{staticClass:\"card\",on:{\"click\":function($event){return _vm.openProject(project)}}},[_c('p',[_c('b',[_vm._v(\"Name:\")]),_vm._v(\" \"+_vm._s(project.name))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"Description:\")]),_vm._v(\" \"+_vm._s(project.description))])])])}),0):(_vm.state==='diagram navigator')?_c('div',{staticClass:\"projectTable\"},_vm._l((_vm.currentProject.diagrams),function(diagram){return _c('div',{key:diagram.Id,staticClass:\"column\"},[_c('div',{staticClass:\"card\",on:{\"click\":function($event){return _vm.openDiagram(diagram)}}},[_c('p',[_c('b',[_vm._v(\"Name:\")]),_vm._v(\" \"+_vm._s(diagram.name))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"Description:\")]),_vm._v(\" \"+_vm._s(diagram.description))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"Type:\")]),_vm._v(\" \"+_vm._s(diagram.Type)+\" diagram\")]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"Mode:\")]),_vm._v(\" \"+_vm._s(diagram.mode))])])])}),0):(_vm.state==='diagram editor')?_c('div',{staticClass:\"diagramEditor\"},[_c('diagram-controller',{attrs:{\"current-diagram\":_vm.currentDiagram}})],1):_vm._e(),_vm._v(\" \"),(_vm.showCreateNewProjectDialog)?_c('div',{staticClass:\"newProjectModal\",attrs:{\"id\":\"id01\"}},[_c('form',{staticClass:\"newProjectModal-content\"},[_c('div',{staticClass:\"formHeader\"},[_c('h1',[_vm._v(\"Create new project\")]),_vm._v(\" \"),_c('span',{staticClass:\"closeForm\",attrs:{\"title\":\"Close form\"},on:{\"click\":function($event){_vm.showCreateNewProjectDialog=false}}},[_vm._v(\"X\")])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"newProjectForm\"},[_vm._m(0),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newName),expression:\"newName\"}],attrs:{\"id\":\"NameProj\",\"type\":\"text\",\"placeholder\":\"Enter project name\",\"name\":\"name\",\"required\":\"\"},domProps:{\"value\":(_vm.newName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newName=$event.target.value}}}),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newDescription),expression:\"newDescription\"}],attrs:{\"id\":\"DescriptionProj\",\"type\":\"text\",\"placeholder\":\"Enter project description\",\"name\":\"description\"},domProps:{\"value\":(_vm.newDescription)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newDescription=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"newProjectButtons\"},[_c('button',{staticClass:\"cancelbtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showCreateNewProjectDialog=false}}},[_vm._v(\"\\n            Cancel\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"signupbtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addProject()}}},[_vm._v(\"Create\")])])])])]):_vm._e(),_vm._v(\" \"),(_vm.showCreateNewDiagramDialog)?_c('div',{staticClass:\"newProjectModal\"},[_c('form',{staticClass:\"newProjectModal-content\"},[_c('div',{staticClass:\"formHeader\"},[_c('h1',[_vm._v(\"Create new diagram\")]),_vm._v(\" \"),_c('span',{staticClass:\"closeForm\",attrs:{\"title\":\"Close form\"},on:{\"click\":function($event){_vm.showCreateNewDiagramDialog=false}}},[_vm._v(\"X\")])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"newProjectForm\"},[_vm._m(2),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newName),expression:\"newName\"}],attrs:{\"id\":\"Name\",\"type\":\"text\",\"placeholder\":\"Enter diagram name\",\"name\":\"name\",\"required\":\"\"},domProps:{\"value\":(_vm.newName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newName=$event.target.value}}}),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newDescription),expression:\"newDescription\"}],attrs:{\"id\":\"Description\",\"type\":\"text\",\"placeholder\":\"Enter diagram description\",\"name\":\"description\"},domProps:{\"value\":(_vm.newDescription)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newDescription=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\",\"margin-top\":\"20px\"}},[_c('div',[_vm._m(4),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newDiagramMode),expression:\"newDiagramMode\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.newDiagramMode=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',[_vm._v(\"Strict\")]),_vm._v(\" \"),_c('option',[_vm._v(\"Free\")])])]),_vm._v(\" \"),_c('div',[_vm._m(5),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newDiagramType),expression:\"newDiagramType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.newDiagramType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',[_vm._v(\"Use-case\")]),_vm._v(\" \"),_c('option',[_vm._v(\"Class\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"newProjectButtons\"},[_c('button',{staticClass:\"cancelbtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showCreateNewDiagramDialog=false}}},[_vm._v(\"\\n            Cancel\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"signupbtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addDiagram()}}},[_vm._v(\"Create\")])])])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"NameProj\"}},[_c('b',[_vm._v(\"Name\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"DescriptionProj\"}},[_c('b',[_vm._v(\"Description\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"Name\"}},[_c('b',[_vm._v(\"Name\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"Description\"}},[_c('b',[_vm._v(\"Description\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',[_c('b',[_vm._v(\"Diagram mode\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',[_c('b',[_vm._v(\"Diagram type\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ad4dc7ca\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ad4dc7ca\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ad4dc7ca\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n\n  ],\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\nimport router from './router';\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yXzIpIj4NCjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCIgZmlsbD0id2hpdGUiLz4NCjxjaXJjbGUgY3g9IjM5LjUiIGN5PSIxNC41IiByPSIxNC4yNSIgZmlsbD0iIzYwRUZGRiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4NCjxsaW5lIHgxPSIzOS41IiB5MT0iMjkiIHgyPSIzOS41IiB5Mj0iNjEiIHN0cm9rZT0iYmxhY2siLz4NCjxsaW5lIHgxPSIzOS4zNzQiIHkxPSI2MC4zMTIiIHgyPSIyMy4zOTA3IiB5Mj0iODAuMzI2MSIgc3Ryb2tlPSJibGFjayIvPg0KPGxpbmUgeDE9IjU3LjA5MDMiIHkxPSI3OS45NTMyIiB4Mj0iMzkuNjI2NSIgeTI9IjYwLjMzMjQiIHN0cm9rZT0iYmxhY2siLz4NCjxsaW5lIHgxPSIxNiIgeTE9IjM2LjUiIHgyPSI2MyIgeTI9IjM2LjUiIHN0cm9rZT0iYmxhY2siLz4NCjwvZz4NCjxkZWZzPg0KPGNsaXBQYXRoIGlkPSJjbGlwMF8yXzIiPg0KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSJ3aGl0ZSIvPg0KPC9jbGlwUGF0aD4NCjwvZGVmcz4NCjwvc3ZnPg0K\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/boundary/SnapUtils/assets/actor.svg\n// module id = daKz\n// module chunks = 1","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@socket.io/component-emitter/index.mjs\n// module id = gxDI\n// module chunks = 1"],"sourceRoot":""}